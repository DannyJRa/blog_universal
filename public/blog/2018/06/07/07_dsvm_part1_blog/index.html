<!DOCTYPE html>
<html lang="en-us">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DSVM Part1</title>
  <meta name="author" content="" />

  
  <meta name="keywords" content="dannyjra, hugo, go">	
  

  
  <meta name="description" content="Uuuups">	
  

  <meta name="generator" content="Hugo 0.68.0" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="../../../../../css/animate.css" rel="stylesheet">

  
  
    <link href="../../../../../css/style.danny.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="../../../../../css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="../../../../../img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="../../../../../img/apple-touch-icon.png" />
  

  <link href="../../../../../css/owl.carousel.css" rel="stylesheet">
  <link href="../../../../../css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="../../../../../index.xml" type="application/rss+xml" title="Danny J. R.">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@GoHugoIO">
  <meta name="twitter:title" content="DSVM Part1">
  <meta name="twitter:image" content="/img/banners/07_DSVM_Part1_BLOG.jpg">
  <meta name="twitter:description" content="Uuuups">

  
  <meta property="og:title" content="DSVM Part1" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/blog/2018/06/07/07_dsvm_part1_blog//" />
  <meta property="og:image" content="img/logo_signature.png" />

</head>


  <body>

    <div id="all">

       

        

       

       

        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">By <a href="#">DannyJRa</a> | June 7, 2018</p>

                        <div id="post-content">
                          <p>DSVM Part 1 &hellip;</p>
<blockquote>
<p>The Windows Data Science Virtual Machine (DSVM) is a powerful data science development environment that enables you to perform various data exploration and modeling tasks. The environment comes already built and bundled with several popular data analytics tools that make it easy to get started quickly with your analysis for On-premises, Cloud or hybrid deployments. The DSVM works closely with many Azure services and is able to read and process data that is already stored on Azure, in Azure SQL Data Warehouse, Azure Data Lake, Azure Storage, or in Azure Cosmos DB. It can also leverage other analytics tools such as Azure Machine Learning and Azure Data Factory.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
</blockquote>
<p>In this article, I will adopt the tutorial to needs and learn how to use Azure (Linux) DSVM to perform various data science tasks and interact with other Azure services. Here are some of the things you can do on the DSVM:</p>
<ol>
<li>Explore data and develop models locally on the DSVM using RStudio</li>
<li>Use a Jupyter notebook to experiment with your data on a browser using Python 2, Python 3, Microsoft R an enterprise ready version of R designed for performance</li>
<li>Deploy models built using R and Python on Azure Machine Learning so client applications can access your models using a simple web service interface</li>
<li>Administer your Azure resources using Azure portal or Powershell</li>
<li>Extend your storage space and share large-scale datasets / code across your whole team by creating an Azure File storage as a mountable drive on your DSVM</li>
<li>Share code with your team using GitHub and access your repository using the pre-installed Git clients - Git Bash, Git GUI.</li>
<li>Access various Azure data and analytics services like Azure blob storage, Azure Data Lake, Azure HDInsight (Hadoop), Azure Cosmos DB, Azure SQL Data Warehouse &amp; databases</li>
<li>Build reports and dashboard using the Power BI Desktop pre-installed on the DSVM and deploy them on the cloud</li>
<li>Dynamically scale your DSVM to meet your project needs</li>
<li>Install additional tools on your virtual machine</li>
</ol>
<p>#1. Explore data and develop models locally on the DSVM using RStudio or Python</p>
<h2 id="using-rstudio-server">Using RStudio Server</h2>
<p>Prerequiesites are the set-up of Azure services, as accroind to Blog: &hellip;.</p>
<h3 id="find-the-ip-adress-of-the-dsvm-eg-by-usins-cli-20">Find the ip-adress of the DSVM e.g. by usins CLI 2.0</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(jsonlite)
code<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;az vm list-ip-addresses&#34;</span>
a<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">fromJSON</span>(<span style="color:#a6e22e">system</span>(code,intern <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>))

a<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">write</span>(<span style="color:#a6e22e">system</span>(code,intern <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>),<span style="color:#e6db74">&#34;test.json&#34;</span>)
yelp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">fromJSON</span>(<span style="color:#a6e22e">file</span>(<span style="color:#e6db74">&#34;test.json&#34;</span>))


yelp_flat <span style="color:#f92672">&lt;-</span> jsonlite<span style="color:#f92672">::</span><span style="color:#a6e22e">flatten</span>(yelp)
<span style="color:#a6e22e">str</span>(yelp_flat)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(tibble)
yelp_tbl <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as_data_frame</span>(yelp_flat)
yelp_tbl<span style="color:#f92672">$</span>virtualMachine.network.publicIpAddresses[[1]]<span style="color:#f92672">$</span>ipAddress
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(purrr)
yelp_flat1 <span style="color:#f92672">&lt;-</span> purrr<span style="color:#f92672">::</span><span style="color:#a6e22e">flatten</span>(yelp_flat)
yelp_flat2 <span style="color:#f92672">&lt;-</span> purrr<span style="color:#f92672">::</span><span style="color:#a6e22e">flatten</span>(yelp_flat1)
yelp_flat3 <span style="color:#f92672">&lt;-</span> purrr<span style="color:#f92672">::</span><span style="color:#a6e22e">flatten</span>(yelp_flat2)
yelp_flat4 <span style="color:#f92672">&lt;-</span> purrr<span style="color:#f92672">::</span><span style="color:#a6e22e">flatten</span>(yelp_flat3)

(ip<span style="color:#f92672">&lt;-</span>yelp_flat4<span style="color:#f92672">$</span>ipAddress)
</code></pre></div><p>Or you can have set-up a static ip-Adress</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">#static ip e.g. </span>
<span style="color:#75715e">#ip=&#34;23.100.82.85&#34;</span>
</code></pre></div><p>Generate ssh phrase including password</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">#make sure that sshpass is installed on Linux</span>
ssh <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste0</span>(<span style="color:#e6db74">&#34;sshpass -p .oberstdorf123 &#34;</span>,
  <span style="color:#e6db74">&#34;ssh -q&#34;</span>,
             <span style="color:#e6db74">&#34; -o StrictHostKeyChecking=no&#34;</span>,
             <span style="color:#e6db74">&#34; -o UserKnownHostsFile=/dev/null&#34;</span>,
             <span style="color:#e6db74">&#34; insider@&#34;</span>,
             ip)
</code></pre></div><h3 id="start-r-server">Start R server</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">cmd <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(ssh, <span style="color:#e6db74">&#34;sudo rstudio-server start&#34;</span>)
(b<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">system</span>(cmd, intern<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>))
</code></pre></div><p>Remove folder if create already</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">cmd <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(ssh, <span style="color:#e6db74">&#34;sudo rm -r /home/insider/R&#34;</span>)
cmd

b<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">system</span>(cmd, intern<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)
</code></pre></div><p>Create folder</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">cmd <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(ssh, <span style="color:#e6db74">&#34;sudo mkdir /home/insider/R&#34;</span>)
cmd

b<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">system</span>(cmd, intern<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)
</code></pre></div><p>Mount drive</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">cmd <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(ssh, <span style="color:#e6db74">&#34;sudo mount /dev/sdd /home/insider/R&#34;</span>)
cmd

b<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">system</span>(cmd, intern<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">browseURL</span>(<span style="color:#a6e22e">paste0</span>(<span style="color:#e6db74">&#34;http://&#34;</span>,ip,<span style="color:#e6db74">&#34;:8787&#34;</span>))
</code></pre></div><p>#2.  Use a Jupyter notebook to experiment</p>
<p>Simply open browser with port 8000 to open Juypter Hub.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">browseURL</span>(<span style="color:#a6e22e">paste0</span>(<span style="color:#e6db74">&#34;https://&#34;</span>,ip,<span style="color:#e6db74">&#34;:8000&#34;</span>))
</code></pre></div><p>Enter your ID and password and will see &hellip;</p>
<p><img src="../../../../../img/jupyter_hub.png" alt="Juypter Hub"></p>
<p>&hellip; to be continued</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Addopted from <a href="https://docs.microsoft.com/en-us/azure/machine-learning/data-science-virtual-machine/vm-do-ten-things">https://docs.microsoft.com/en-us/azure/machine-learning/data-science-virtual-machine/vm-do-ten-things</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>
                        </div>
                        
                        
                        <div id="comments">
                            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "blog-dannyrasch" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                        </div>
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        




<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            <li><a href="../../../../../categories/cloud">cloud (5)</a>
            </li>
            
            <li><a href="../../../../../categories/python">python (7)</a>
            </li>
            
            <li><a href="../../../../../categories/r">r (9)</a>
            </li>
            
        </ul>
    </div>
</div>








<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="../../../../../tags/api"><i class="fa fa-tags"></i> api</a>
            </li>
            
            <li><a href="../../../../../tags/azure"><i class="fa fa-tags"></i> azure</a>
            </li>
            
            <li><a href="../../../../../tags/bigdata"><i class="fa fa-tags"></i> bigdata</a>
            </li>
            
            <li><a href="../../../../../tags/django"><i class="fa fa-tags"></i> django</a>
            </li>
            
            <li><a href="../../../../../tags/docker"><i class="fa fa-tags"></i> docker</a>
            </li>
            
            <li><a href="../../../../../tags/engineering"><i class="fa fa-tags"></i> engineering</a>
            </li>
            
            <li><a href="../../../../../tags/flask"><i class="fa fa-tags"></i> flask</a>
            </li>
            
            <li><a href="../../../../../tags/gcp"><i class="fa fa-tags"></i> gcp</a>
            </li>
            
            <li><a href="../../../../../tags/linux"><i class="fa fa-tags"></i> linux</a>
            </li>
            
            <li><a href="../../../../../tags/ml"><i class="fa fa-tags"></i> ml</a>
            </li>
            
            <li><a href="../../../../../tags/ops"><i class="fa fa-tags"></i> ops</a>
            </li>
            
            <li><a href="../../../../../tags/r-package"><i class="fa fa-tags"></i> r-package</a>
            </li>
            
            <li><a href="../../../../../tags/rstudio"><i class="fa fa-tags"></i> rstudio</a>
            </li>
            
            <li><a href="../../../../../tags/set-up"><i class="fa fa-tags"></i> set-up</a>
            </li>
            
            <li><a href="../../../../../tags/shiny"><i class="fa fa-tags"></i> shiny</a>
            </li>
            
            <li><a href="../../../../../tags/viz"><i class="fa fa-tags"></i> viz</a>
            </li>
            
            <li><a href="../../../../../tags/webdev"><i class="fa fa-tags"></i> webdev</a>
            </li>
            
        </ul>
    </div>
</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

      

    </div>
    

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-140052731-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?key=AIzaSyBCT-G8KCwrp8_t_7W6TA9mX1RByDD0s2A&v=3.exp"></script>

<script src="../../../../../js/hpneo.gmaps.js"></script>
<script src="../../../../../js/gmaps.init.js"></script>
<script src="../../../../../js/front.js"></script>


<script src="../../../../../js/owl.carousel.min.js"></script>


  </body>
</html>
